#Pythonic Code
지금까지 여러분들은 C같이 혹은 기존에 자기가 하던 언어들의 스타일, 즉 각각의 스타일을 고집해서 파이썬 코드를 짜 왔을 것이다.
그래서 이번장은 좀 더 파이썬같이 짜기 위해 이번 장을 만들게 되었다. 나중에 돌아서 보니 지금 당장 클래스나 함수를 가르치는것이 중요한게 아닌 파이썬을 진짜 파이썬같이, 남이 봐도 진짜 잘짯다 라는 느낌을 받게 해줄 수 있는 코드를 만드는 것이 내 목표이다.

솔직히 말하면 나도 잘 pythonic한 코드를 짜지 못하는 편이다. 한번 노력해보자.

#1 예제로 보는 Pythonic Code
##로또
전에 로또 코드를 짠 적이 있었다. 모두 다 각기 다른 코드를 적어왔다.

어떤 사람은

```
import random
print "로또 번호를 추첨하겠습니다"
print '[',
for i in range(1, 7):
    print (random.randrange(1, 47)),
print ']'
```
정말 괴짜같이 말도안되는 코드를 짠 사람도 있고,

```
import random
a = range(6)
k=0
for k in range(6):
    a[k] = random.randrange(1,46)
print a

```
부족하지만 내 기대에 어느정도 부응한 사람도 있었다.
하지만 결과적으로 말하자면 이런 코드는 `파이썬같은 코드`가 아니다.

Pythonic 한 코드를 한번 봐보자.

```
from random import shuffle #1
list = range(1,46) #2
shuffle(list) #3
print list[:6] #4
```

이 얼마나 간단한 소스 코드인가. 이 소스코드를 분석해보자

첫번째 줄에 random패키지 중에 shuffle모듈만 불러왔다. 즉 random패키지 모두를 불러와서 메모리 낭비를 시키지 않는것이다.

두번째 줄에서 list에 1부터 45까지 넣는다. 만약 두번째 줄 다음에 `print list`를 치면 아마 다음과 같은 결과값이 나올것이다.

```
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45]
```

세번째 줄에서 list를 섞어준다. 그러면 list안의 45개의 값들이 뒤섞일 것이다.

네번째 줄에서 출력과 동시에 앞에서부터 6개를 짤라준다. 

지금 당장은 이게 익숙하지 않고 이해가 안될것이다. 하지만 약속한다 이 코드가 언젠간 더 쉽고 편할것이라고.

##2 리스트

이 부분은 새로 배우거나 추가되는 내용이다. 

문제를 하나 주겠다.

```
당신은 아이스크림 가게의 알바이다.
그 아이스크림 가게에는 총 네가지 맛이 있다. 'banana', 'chocolate', 'strawberry', 'mix'.
이번에 신장개업한 아이스크림 가게이다 보니 메뉴판이 아직 없다. 그래서 사장님이 메뉴판을 만들라고 하셨다. 
한번 메뉴판을 만들어보자. 단 출력문은 두줄이상 적으면 안된다.
```

출력 결과 값

```
1: banana
2: chocolate
3: strawberry
4: mix
```
아마 님들은 `아 뭐야.. 이걸 어떻게 짜..` 이러고 있을것이다. 그래도 해보자


```
flavorlist = ['banana', 'chocolate', 'strawberry', 'mix']
for i, flavor in enumerate(flavorlist):
	print ('%d: %s', %(i+1, flavor))

```
여기서 `enumerate`라는 것이 새로 나왔다. 책 `Effective Python`에서는 `range`보다는 `enumerate`를 쓰라고 권장하고 있다. 도대체 `enumerate`라는게 뭘까?한번 `range`와 비교해서 설명해보겠다.

```
pocket = ['phone', 'money', 'ruler']
for list in pocket:
	print "My things list is : %s" % list
```
위와 같은 소스에서 list라는 변수가 pocket이라는 리스트 안에서 돌면서 각각 모두 출력해주는 반복문이였다. 물론 정상작동 하긴 한다. 하지만 enumerate를 사용할 때 보다 시간이 조금 더 느리다고 한다.
스택오버플로우에서 같은 리스트를 10000번 반복 했을 때 `range`를 사용했을 때는 118초가, `enumerate`를 사용했을 때는 102초가 걸렸다고 한다. 에이 16초밖에 차이 안나네.. 라고 할것이 아니다. 만약 당신이 나중에 프로그램을 만들었는데 1000명의 사용자가 100번씩만 돌리면 160초가 차이나게 되고 더 많을때는 더 많은 지연시간이 걸릴것이다.

##3 반복문
여러분은 for문을 사용해서 리스트를 만들것이다.

만약 리스트 안에 1부터 6까지 넣을려면 당신은 어떻게 할것인가.

```
a = range(7)
[x for x in range(1,7)]
	
```

위에서 로또 코드를 볼때 `a = range(7)`을 쓴 아이가 있었는데 어디서 배껴왔는지 모르겠지만 정말 잘배껴왔다.

왜 저게 리스트로 자동생성이 되냐 라고 물어볼 수도 있는데 `range`로 저렇게 쓰게 되면 리스트로 저장이 된다 카더라.


##4 제목을 뭘로 지을까
다음은 1부터 999까지 출력하는 코드이다.

```
n = 1
while n <1000:
	print n
	n += 1
```

위는 C같은 코드

```
for n in range(1, 1000):
    print(n)

```
